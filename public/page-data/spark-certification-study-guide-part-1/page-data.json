{"componentChunkName":"component---src-components-post-layout-js","path":"/spark-certification-study-guide-part-1/","result":{"data":{"mdx":{"id":"9732c590-9555-5039-934f-d648a9864133","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Spark Certification Study Guide - Part 1 (Core)\",\n  \"date\": \"2020-01-01T00:00:00.000Z\",\n  \"published\": true,\n  \"tags\": [\"Spark\", \"Databricks\", \"Python\"],\n  \"description\": \"Part 1 of the Study Guide I created to pass the Spark Certification Exam\",\n  \"toc\": true,\n  \"seoImage\": \"og-spark-study-guide-1.png\",\n  \"featuredImage\": \"./featured-image.png\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, mdx(\"p\", null, \"\\uD83E\\uDD47 This is \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Part 1\"), \" of the Study guide, focusing on the Core Concepts of Apache Spark.\"), mdx(\"p\", null, \"\\uD83E\\uDD48 For \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Part 2\"), \" (Applications) - click \", mdx(InlinePageLink, {\n    to: \"/spark-certification-study-guide-part-2\",\n    mdxType: \"InlinePageLink\"\n  }, \"here\"))), mdx(\"p\", null, \"While studying for the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://academy.databricks.com/exams\"\n  }, \"Apache Spark 2.4 Certified Developer exam\"), \" and going through various resources available online, I thought it'd be worthwhile to put together a comprehensive knowledge base that covers the entire syllabus end-to-end, serving as a Study Guide for myself and hopefully others.\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1920px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/480800011d50ee40d71cd3c6ee9a8ba9/c6afc/certification.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC/ElEQVQ4y42TW1PbVhDH/d3z0L5k2k9QZrhNKaKdAbcPIY48lAB2QmJ8A9tgS77JNpZkW3dp0T+7p0DTt2rmP7vnaPens7tHBWwGP+TGyXuYxePc/LMIpWIRBmvIvnHyr/1eKuZ1fZwbxVNm/VjIe0dXuXWJfPUA2G3EizbI6eDJ6bLfQu72EM2b/+y53Ve9rHPRxkBuXSC//71SoOavpTwPEJ6fJ8u3b+iy1qLziyp9uWnR1aevVG916NOXOt0078gcz8gYWdQ3JjSd2zSZLWliPVIKJLk/B90efihkjUOd1iOkG5/SyRie72HlOlivV/C8DabTCUzTwHBo4nGxQBSFCHwfSRIjZt91bGQ5iFwTWVMrF9Kapmc2LwCazOd4eHjAaDRSdjgcot/vo9VsodFooNfrMdyEYRgYDAYqZj6bIWWgMJhVLiSfNT195AWB1isXrXYbd3d3aLO9vb1VSd1uVwFfPib7Itn3NhsknCuM5JqBcUXTk7mBOHuiNEkQxzGXkyj5XNp4PFanEtmOgzRNX9+/+JKrGJWjciH6qOnxbIAoJYrCkHsUKQlYEubcBoFJieIL4CVGSXI4N7aYccHA8EzTo+kAQZJREPC0OUBOtuABzLg/y+UStm0riW/NLB6Wp+JUPEtyQ2aEZwwMPmh6MOrDixKSfkjwhq30p/3cz/v7e3Q6HeXLYKSP8lGJ9TZrzo1JGIHOQO+dpodjpmdEyXP/pBTLslSi9FAmKb7sSdnT6VSdUCnJEPGUQznUKQPXfx3qmTUGP+qEDjc+yzL83+epXwW5Y8oWMzCrXFidaCVZLIMw/Vyr0XmlQiPLoiBJSO4mvlP+bK9v6vROL9Pp+1P6+McWPfnzNOMLvjrmP8XVDi7DRh1mq4VhvY5xswmL71jIZaU8GFH2bEXEg+lcVXBdKqF+9jd61zWkrgthONrBVcGvVn5abm1drvb3S6v9Pd3d29Od3V3d3tlRWu5s/1fb27r/24EeHR2xNOXbuzul5dYvF361+vM3Z+Y6i/RtfisAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Associate Developer for Apache Spark 2.4\",\n    \"title\": \"Associate Developer for Apache Spark 2.4\",\n    \"src\": \"/static/480800011d50ee40d71cd3c6ee9a8ba9/ac7a9/certification.png\",\n    \"srcSet\": [\"/static/480800011d50ee40d71cd3c6ee9a8ba9/9aebd/certification.png 480w\", \"/static/480800011d50ee40d71cd3c6ee9a8ba9/a91f8/certification.png 960w\", \"/static/480800011d50ee40d71cd3c6ee9a8ba9/ac7a9/certification.png 1920w\", \"/static/480800011d50ee40d71cd3c6ee9a8ba9/f9c26/certification.png 2880w\", \"/static/480800011d50ee40d71cd3c6ee9a8ba9/5da7e/certification.png 3840w\", \"/static/480800011d50ee40d71cd3c6ee9a8ba9/c6afc/certification.png 3841w\"],\n    \"sizes\": \"(max-width: 1920px) 100vw, 1920px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Associate Developer for Apache Spark 2.4\"), \"\\n  \")), mdx(\"p\", null, \"Note that I used inspiration from the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://databricks-prod-cloudfront.cloud.databricks.com/public/4027ec902e239c93eaaa8714f173bcfc/3249544772526824/521888783067570/7123846766950497/latest.html\"\n  }, \"Spark Code Review guide\"), \" - but whereas that covers a subset of the coding aspects only, I aimed for this to be more of a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"comprehensive, one stop resource geared towards passing the exam\")), \".\"), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, mdx(\"p\", null, \"\\uD83D\\uDEA9 While this study guide is geared towards the Spark \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"2.4\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://academy.databricks.com/exam/INT-ADAS-v2-CT\"\n  }, \"version\"), \" of the exam, a vast majority of the material carries over into Spark \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"3.0\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://academy.databricks.com/exam/databricks-certified-associate-developer\"\n  }, \"version\"), \" (or any Spark version in general).\"), mdx(\"p\", null, \"\\uD83D\\uDCA1 A Databricks notebook version of this Study Guide is available \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://rakirahman.blob.core.windows.net/public/notebooks/Spark-Developer-Certification-Study-Guide.html\"\n  }, \"here\"), \" to import into your own \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.microsoft.com/en-us/azure/databricks/workspace/\"\n  }, \"Databricks Workspace\"), \".\")), mdx(\"h2\", {\n    \"id\": \"awesome-resourcesreferences-used-throughout-this-guide\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#awesome-resourcesreferences-used-throughout-this-guide\",\n    \"aria-label\": \"awesome resourcesreferences used throughout this guide permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Awesome Resources/References used throughout this guide\"), mdx(\"h3\", {\n    \"id\": \"references\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#references\",\n    \"aria-label\": \"references permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"References\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://bit.ly/34KQGHL\"\n  }, \"Spark Code Review used for inspiration\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://drive.google.com/open?id=17KMSllwgMvQ8cuvTbcwznnLB6-4Oen9T\"\n  }, \"Data Scientists Guide to Apache Spark\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.javaworld.com/article/3272244/what-is-the-jvm-introducing-the-java-virtual-machine.html\"\n  }, \"JVM Overview\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://freecontent.manning.com/running-spark-an-overview-of-sparks-runtime-architecture\"\n  }, \"Spark Runtime Architecture Overview\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.cloudera.com/documentation/enterprise/5-6-x/topics/cdh_ig_spark_apps.html\"\n  }, \"Spark Application Overview\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://queirozf.com/entries/spark-architecture-overview-clusters-jobs-stages-tasks-etc\"\n  }, \"Spark Architecture Overview\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://jaceklaskowski.gitbooks.io/mastering-apache-spark/spark-scheduler-Stage.html\"\n  }, \"Mastering Apache Spark\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://medium.com/@mrpowers/manually-creating-spark-dataframes-b14dae906393\"\n  }, \"Manually create DFs\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://spark.apache.org/docs/latest/api/python/pyspark.sql.html\"\n  }, \"PySpark SQL docs\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.databricks.com/spark/latest/dataframes-datasets/introduction-to-dataframes-python.html\"\n  }, \"Introduction to DataFrames\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://changhsinlee.com/pyspark-udf/\"\n  }, \"PySpark UDFs\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://cwiki.apache.org/confluence/display/Hive/LanguageManual+ORC\"\n  }, \"ORC File\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://datathirst.net/blog/2018/10/12/executing-sql-server-stored-procedures-on-databricks-pyspark\"\n  }, \"SQL Server Stored Procedures from Databricks\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://stackoverflow.com/questions/31610971/spark-repartition-vs-coalesce\"\n  }, \"Repartition vs Coalesce\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://jaceklaskowski.gitbooks.io/mastering-spark-sql/spark-sql-dynamic-partition-inserts.html\"\n  }, \"Partitioning by Columns\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://jaceklaskowski.gitbooks.io/mastering-spark-sql/spark-sql-bucketing.html\"\n  }, \"Bucketing\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://hendra-herviawan.github.io/pyspark-groupby-and-aggregate-functions.html\"\n  }, \"PySpark GroupBy and Aggregate Functions\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://spark.apache.org/docs/latest/quick-start.html\"\n  }, \"Spark Quickstart\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://unraveldata.com/to-cache-or-not-to-cache/\"\n  }, \"Spark Caching - 1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://stackoverflow.com/questions/45558868/where-does-df-cache-is-stored\"\n  }, \"Spark Caching - 2\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://changhsinlee.com/pyspark-dataframe-basics/\"\n  }, \"Spark Caching - 3\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://spark.apache.org/docs/latest/rdd-programming-guide.html#rdd-persistence\"\n  }, \"Spark Caching - 4\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.tutorialspoint.com/pyspark/pyspark_storagelevel.htm\"\n  }, \"Spark Caching - 5\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://spark.apache.org/docs/2.1.2/api/python/_modules/pyspark/storagelevel.html\"\n  }, \"Spark Caching - 6\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://spark.apache.org/docs/2.3.0/api/sql/index.html\"\n  }, \"Spark SQL functions examples\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.databricks.com/_static/notebooks/apache-spark-2.4-functions.html\"\n  }, \"Spark Built-in Higher Order Functions Examples\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.databricks.com/_static/notebooks/timestamp-conversion.html\"\n  }, \"Spark SQL Timestamp conversion\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://medium.com/factory-mind/regex-tutorial-a-simple-cheatsheet-by-examples-649dc1c3f285\"\n  }, \"RegEx Tutorial\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://stackoverflow.com/questions/44968912/difference-in-dense-rank-and-row-number-in-spark\"\n  }, \"Rank VS Dense Rank\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://databricks.com/blog/2015/07/15/introducing-window-functions-in-spark-sql.html\"\n  }, \"SparkSQL Windows\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/vivek-bombatkar/Databricks-Apache-Spark-2X-Certified-Developer\"\n  }, \"Spark Certification Study Guide from GitHub\"))), mdx(\"h3\", {\n    \"id\": \"other-resources\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#other-resources\",\n    \"aria-label\": \"other resources permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Other Resources\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1753px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/098e72914f6086fafcac8631b8172123/67707/pyspark-cheat-sheet.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"70.83333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADUElEQVQ4yy2TaU9bRxSG/b/7sVWlSk1Lq0RAINQkNCWl7FnAhLIYg7ENNpttDBibxcvd79zVtsjTg1XpHs3MleaddzknMVAukaYR3jeJH+8ILYvB0zf8wzTG3DTa+0mM5Cusd2PYM+PYb0dRqSWs9FectWW01Tn0T/OyXyI42CIR6hpeu4V21+Dm/BSv2SBs3eOXSxjFPM5RAXVeQp0VMZ/Psvr5NPbGCs76MraU9nGOztJf2LspEq1Pc9x+eENjLsnj9CtaUyPcj/1Ev3lF9A0Cb8ATDKsnZ/mI6xWM1ArG+ipmapWusNMF2M+lSeiVM5qFLK2TY1pHOTr5LKp8SvRwi3JcQtunH8VEnke33cZxHMLaOVYug3Ocw8ofYGW28A92iE4LJGKRZ9aq+Dd1wqvasOL6FfFDgyAM8VyPXtwjlr1SiiAICOqX2BcnqFqZ+8MM7dw+neweSsglnC+L6DMTaFMv0cdfYIxJTYwIizMC5aFMm0FvQByEWBKYkn9x8xpHfHVKeZGZITjKYh3s4l+USPiGjm07OJ68LBf7/O9T91HATJGtiMKYXhhhGgahsO0LQ3N3E2t/B0fKzWxjrK2gZE0orYstF23TGnqmXHco79nDwHXoD/oiWQCjSIADaaknwsszuh/n6azO013+B2tlAWfhPX56UwAtE9Oy8cX0WC49X35OVO1tSg9Oof8pffjuNd2J32iP/Ejn1x+EyRbuVRVTwnQKIrtUxJNQ42ZdAAv7OJJQkM/gbafwd1IEAjaQsIJuB71axbqooVUrOPVrYq1DJF4ZfyfR/3iFPvk7+puXaKO/4EiTi4ddHGGpbBtPvPREpi8V39XxJEmjcIC2Ix7tpbGyGfxigfCiiLa1hiMP618WuJ5N0l6aJTzeJ+HJyLkyLUoMj0wZQ/GxH/h4RwK0OEtndpru1Cha8rVIF/nT4wSlQ+zrqrRJFa9SJmoI8+YNPfE9ERQPUdk04e4GlnS+IfPpbn4eSrfFAlfSdHb/pbPxGbW/TSzWDE7z9Cqn9C7O6Z2V6B1neSrleKqeyOjJDDcbjWG6tcsqlXIZQ1I3O4/cXl/x+PDAg8x3sVDgUvz0LIOtwgnfvV3lxcJXJpc3+Hlmke+TC3xY3+E/SLzhf0MHqgQAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"PySpark Cheatshet\",\n    \"title\": \"PySpark Cheatshet\",\n    \"src\": \"/static/098e72914f6086fafcac8631b8172123/67707/pyspark-cheat-sheet.png\",\n    \"srcSet\": [\"/static/098e72914f6086fafcac8631b8172123/9aebd/pyspark-cheat-sheet.png 480w\", \"/static/098e72914f6086fafcac8631b8172123/a91f8/pyspark-cheat-sheet.png 960w\", \"/static/098e72914f6086fafcac8631b8172123/67707/pyspark-cheat-sheet.png 1753w\"],\n    \"sizes\": \"(max-width: 1753px) 100vw, 1753px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"PySpark Cheatshet\"), \"\\n  \")), mdx(\"h2\", {\n    \"id\": \"spark-architecture-components\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#spark-architecture-components\",\n    \"aria-label\": \"spark architecture components permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Spark Architecture Components\"), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, \"\\uD83C\\uDF93 Candidates are expected to be familiar with the following architectural components and their relationship to each other:\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Spark Basic Architecture\")), mdx(\"p\", null, \"A \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"cluster\"), \", or group of machines, pools the resources of many machines together allowing us to use all the cumulative\\nresources as if they were one. Now a group of machines sitting somewhere alone is not powerful, you need a framework to coordinate\\nwork across them. \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Spark\"), \" is a tailor-made engine exactly for this, managing and coordinating the execution of tasks on data across a\\ncluster of computers.\"), mdx(\"p\", null, \"The cluster of machines that Spark will leverage to execute tasks will be managed by a cluster manager like Spark\\u2019s\\nStandalone cluster manager, \", mdx(\"em\", {\n    parentName: \"p\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"YARN\")), \" - \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Y\"), \"et \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"A\"), \"nother \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"R\"), \"esource \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"N\"), \"egotiator, or \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://mesos.apache.org/\"\n  }, mdx(\"em\", {\n    parentName: \"a\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"Mesos\"))), \". We then submit Spark Applications to these cluster managers which will\\ngrant resources to our application so that we can complete our work.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Spark Applications\")), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"592px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/e50f97ca8bde829c4c44f507c553079f/d9142/jvm-process.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"84.16666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC9UlEQVQ4y31TS28URxDeSw5IXHLlEUMQAokQIwRcCAjyM7hw4hETiShi7RUEr0+2LP8MBIogjoUEGBHjl4yjrHfwwnrNGgkT9jGzs+OdR/d0z2y/hupdGywOfCpNV39dn3qquiqVbIFghD0vDHzsezEJEyWTbWCM+b4fBEEYhp/IlFIJYhyrpPShYpTfrn6o5t+slf6v+FwGXEg4VjoOY7zWQa1W01yHTFEh38OVjum5Dd+zu+a2Gq5jWgg5jPM4tpuOs9FCOGSMOy1Xb1quUipFksSurInBszR7Lura0Ll46Dy7/RNZXWioJCakWjdrdbPpbBBCwambVsO2pZRabK0X6S89wdUedHkPurIXXd6NrvZg+Bae2UkShRgElmlpMaX1jv9Z3Hi/Ev16AGdOhdnz4a3T4eDZMHMyvH4IF2dtSI+1PYQrrgdKzlkrQKYXYEI2f1uLr32Pfj9KMyfIjV46cBxlf8Z/nEEr8yZPEikwE/NNnSQUyomZ4ePNamvxerHdt4/27Wte+q54Yde7i3vi6wfpb4fhZgveS3BEo0qAOWNKSjekFiaC887NMrE8Fxem/MJU4dEdy/in8ORuKz8JCSPXttsyIhTStBsNqDGhkWVp3242pZIpodRiKzg287p3buXIX89/vPfk6MO53tniD9OvntoeFoLSqGZaYCDu+nVrSwyvDfnsuD+188HzQ48X9k/MHJlc/HZ8+ps/n01UbSLl18SRkEUfj1eb9yv2eNWeqDl/V+0HFW2lIGzGDIrUbjPFNeB5IHMJRWdcFwwS34hiJgRYWwiLRu2OD+bGbQJBSkVCvPJQp1UV9HI5CKFvtXh79wPxBkdfMHpmhCyRuMu0uFiPefcoxThbXi4sLeXzeQNs+t//tGNs4aXGkmG8yOX0zjBy+fxiLldYXoY5S8G4ZLPZdDo90MHNTKa/vx+Y0dHR4eHhkZGRsbEx2ALZDcgMDPSn07cHB0GYgjLAoJVKpdUONpdtKJfLXzAQDCQIPwJgI1xGUKmVcAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Spark Basic Architecture\",\n    \"title\": \"Spark Basic Architecture\",\n    \"src\": \"/static/e50f97ca8bde829c4c44f507c553079f/d9142/jvm-process.png\",\n    \"srcSet\": [\"/static/e50f97ca8bde829c4c44f507c553079f/9aebd/jvm-process.png 480w\", \"/static/e50f97ca8bde829c4c44f507c553079f/d9142/jvm-process.png 592w\"],\n    \"sizes\": \"(max-width: 592px) 100vw, 592px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Spark Basic Architecture\"), \"\\n  \")), mdx(\"p\", null, \"Spark Applications consist of a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"driver\"), \" process and a set of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"executor\"), \" processes. In the illustration we see above, our driver is on the left and four executors on the right.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"What is a JVM?\")), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"The JVM manages system memory and provides a portable execution environment for Java-based applications\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Technical definition:\"), \" The JVM is the specification for a software program that executes code and provides the runtime environment for that code.\\n\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Everyday definition:\"), \" The JVM is how we run our Java programs. We configure the JVM's settings and then rely on it to manage program resources during execution.\"), mdx(\"p\", null, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Java Virtual Machine (JVM)\"), \" is a program whose purpose is to execute other programs.\\n\", mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"567px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/24e7c45f776944f3f10ee0f25f729f2f/b546d/what-is-jvm.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"68.75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD90lEQVQ4yyWT2VOTBxRHvxaREWTfhhEQFWUJFioWh6UCguyyFUTKEhNZVSAgBcEAQhAJoGipxIKQCSCC1Y4oi2ggYIpYrV3UsX2x2o0ZocufcPpN+3Dnvp25v3PvFZyCc7DwjsNsWyQ2exJxjEzHIWwfDiHB2AbuxNLTFnMPS1x8NhCRYMVHue7kyuwoKbWjqswGdb0VlzvdmBgN5M7YboQY7RKRmjkSdA9IG18mdeyhWEZSxhZJGJohWXcH+Y15oiqLyC+M4spQDRExJiTGCaQmCuSmiCV2hcycm0MBCJnzK2TpXyN7uELJ0z8pf/E3FS/+ofzZXyi+f0vd49c0fLdK7RdaBrSlXB2VUlxoRmdHNu2t6bQ3J9CujOBIhiUdSnsRqH/Dx/pXZE8+I/PGEknDBuJ0C0T330c6/QNnnq8w/vMq00+GWFpQsHDvCA0VZvSow9H1paFWJdDZEkdpti3KMjOErLk3yIy/cFj/kqD2cYK7J/iw9y6h3bfYL2qQG19x9/e3zC1fwni/hMVZOT1nXThbZ093ix3n2pyoLFpPY4UFbXVWCNJHa5R9+5aCb9bIWV4jU4yfOvUThx+vIVteIW/pV1qerWJ4MohRX/of8HKXK71qT3raPBj4zIMulTOtNTZiZGuEvZp7pE08JbhnEv+uWyQ295Gn6iWg8zoRn08SPThOklbH8EQJj+aPYrgrp+6oKZ8UWaHpikfbm4ZS4URhpkDbSRHo57efqKwyfCRRuDhIiM8+RuGpDpwdtxMQGE5QmD+hH1hzWeXG10YFhhmZCDSh/0IKs7dVzM+0c/VKrujQRASKkZscXVHvDKDeZTMNrluoCdlHdUwqqh3eNG32oNHdhQubzDFIHfjqgYJFccLWmo1cPLObvu5odJp9XOoK4USBuehVBNY7uNIq8adpqxcDuTKejIzy49Q0L+/r6QgOpdrJmamgTTyU2mFcFIGzMoY0nvSd30r/eTdGBj0522jLudN2/zustXKmysoBdcAubtc3cO24gpsnlUyfUdPiK0HtsYnlMHeeV0fy2x8GDNO5NCrMqS3diOqkPeVF1hw5uJ7ig+s4XWWB0BUYgk5ezEDWIe4olVw/fpwReQFf1tZxu0qBvq6SmZxkRtK3MDvfwOStfJQnzCkr3oC2v4Brw6col9qQd+Admk9YInR4+aGJT+HT0L1ookQnGen0x0TTHxvNwAFxi0kx3IwPp3SrCYrGHLTDCvaLbxcfa4o025ljMjekKabkJ7+LtmcHgr9HCNsst+PtJOF9nyB2SfYQ6OtHoI8P77k742u/jgA7AYnXBmIztnCqOZ70Q2JMuTWyPDPxfExQlm8UnXoyOb6bfwFhBXx7QV1TRwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"JVM\",\n    \"title\": \"JVM\",\n    \"src\": \"/static/24e7c45f776944f3f10ee0f25f729f2f/b546d/what-is-jvm.png\",\n    \"srcSet\": [\"/static/24e7c45f776944f3f10ee0f25f729f2f/9aebd/what-is-jvm.png 480w\", \"/static/24e7c45f776944f3f10ee0f25f729f2f/b546d/what-is-jvm.png 567w\"],\n    \"sizes\": \"(max-width: 567px) 100vw, 567px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"JVM\"), \"\\n  \")), mdx(\"p\", null, \"The JVM has \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"two primary functions\"), \":\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"To allow Java programs to run on any device or operating system (known as the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"\\\"Write once, run anywhere\\\"\"), \" principle)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"To manage and optimize program memory\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"JVM view of the Spark Cluster: \", mdx(\"em\", {\n    parentName: \"strong\"\n  }, \"Drivers, Executors, Slots & Tasks\"))), mdx(\"p\", null, \"The Spark runtime architecture leverages JVMs:\\n\", mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"720px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/392bb43d957f6e085e59f246c3ecd0e5/242a6/spark-jvm-high-level.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"31.25%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAABYklEQVQY002PS0sCYRSG5z+0cuuiVYtoFfgb+gVBUNrlF7QJFLt4yUitRepoNiYogYHhok0XA6EaE1JbmJa3vA0y5ly+mW8ufo0G0ctZnPPw8sDBlNFInoy2IIRUhCRFEVTUeb59C9kLIUeTTHOSIquqOin872PoLyNVhFAWBCQKCIqSoBnGrjGRoAY1AiFEE8VvsGTpkyiW/eRrMJsHHPfUbIeK74FsHn8pUkPm63vozxa0M1go51pdhmUDZB4n8+Fi+bpSxwzhxAx+MXua0PviAICtu0fdcXQ+ktR5iYdaK1Wq6jyE4fxqyhuxZ3I0w+pPYnPhy2lfbCGewjbxs41dx4rz0HRwxIgicXO/ZLWZXF6jZYdstDKVqtFsXd13L1r2oukMzYF1l2fZ6V7btpkjMazPCx2Op3jho9uTZZmFUpvlKSDU+jTL81BROwxH8aAxGPbogfZnlwM9Hmideo/6AZSGIttrzQ9OAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Spark Physical Cluster & Slots\",\n    \"title\": \"Spark Physical Cluster & Slots\",\n    \"src\": \"/static/392bb43d957f6e085e59f246c3ecd0e5/242a6/spark-jvm-high-level.png\",\n    \"srcSet\": [\"/static/392bb43d957f6e085e59f246c3ecd0e5/9aebd/spark-jvm-high-level.png 480w\", \"/static/392bb43d957f6e085e59f246c3ecd0e5/242a6/spark-jvm-high-level.png 720w\"],\n    \"sizes\": \"(max-width: 720px) 100vw, 720px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Spark Physical Cluster & Slots\"), \"\\n  \")), mdx(\"p\", null, \"And a slightly more detailed view:\\n\", mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"526px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/d87500dbd08f431f26fc27369f441032/55e98/jvm-driver.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75.625%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACy0lEQVQoz22TWU8aURSA+W1t0sSHPpnWpEmrSR80TfvYtFqNbazWqo1agkaNFrCiFFCwArLvA7IVmGEbZJlBhQFmhplhURHo4JI0lZMvJ+flu+fck3s57X+i1WqxuVggHDaP0+E7y+JkqYYXK0SxykJ2YOsKUWDYuoTRnPsyVa4gqcIpSpTxC5psUGSDKV/R5KXVFdXaw0Zn3OSCVeYgGDn5T+5kmqpVqcZlrV2lrupMi7mW2YPkJueafG9dIRfptRtKlcMPd+lMl6tuX8ITSPuhrNMLh2I5LEdTeNPgB34auWuK2WXZ5J5L6PBCnFYnmnd0ZIaqy7Q2wYFKarQI9pWGQAxFCTzPzAqUfVPbTyeEvR/5TyZ3DADUpTNDXfzSKSf4Y9Obn+fEU0L9VipZzKGFBbH10bD4w+rhyIp6nG8yuyKcVModixtTaXswpMYKx52xmaZGLVJvv9JI32rFb+z678FQisRonvyo55MilkzDySSawxyeKCcO70fjm6mMNAStJ1O2i/NL5ITQ7S0B/F6b4IVX9Mwpe2ex+upMG4xmfRDihxAflPGHUThxxsljxnbb0WRpmtGss14/R0+Jw12efL7HJepngKGAagwAwBrdtLujRiBiOYpZ3bDGGoRiWQ6GwSU8WsLjhQJIkmedsSst3e+Ng+U+KW8AlA+GDDMglMmflA8sHr5Ks6XVS0wWkc4I/El0WVi9UpsXmR6//zEwpxzaCI4IXShSTCcwhUW7sv/1m3B8RjC6erhk94Cca+GWO7m+uGPuHVl7OS3un5aN8s1IpkSV6lyxbpC7+3xm54tIGYyH2Vt0fyRQGAGvCUFpMJwp5CvnTJMrcz0clrxeVPIkNgQ9uS+3b2SaaLDrrdE3tJhys1ZuLEgcD4bFkXgCDEdAOG13R7rIDF0tYjSBV4nSLSReYz+TJ5QweWJHAdgdhL3gMRRN/wXarvCYGaTwdgAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Granular view of Spark Physical Cluster & Slots\",\n    \"title\": \"Granular view of Spark Physical Cluster & Slots\",\n    \"src\": \"/static/d87500dbd08f431f26fc27369f441032/55e98/jvm-driver.png\",\n    \"srcSet\": [\"/static/d87500dbd08f431f26fc27369f441032/9aebd/jvm-driver.png 480w\", \"/static/d87500dbd08f431f26fc27369f441032/55e98/jvm-driver.png 526w\"],\n    \"sizes\": \"(max-width: 526px) 100vw, 526px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Granular view of Spark Physical Cluster & Slots\"), \"\\n  \")), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Elements of a Spark application are in blue boxes and an application\\u2019s tasks running inside task slots are labeled with a \\u201CT\\u201D. Unoccupied task slots are in white boxes.\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Responsibilities of the client process component\")), mdx(\"p\", null, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"client\"), \" process starts the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"driver\"), \" program. For example, the client process can be a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"spark-submit\"), \" script for running applications, a spark-shell script, or a custom application using Spark API (like this Databricks \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"GUI\"), \" - \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"G\"), \"raphics \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"U\"), \"ser \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"I\"), \"nterface). The client process prepares the classpath and all configuration options for the Spark application. It also passes application arguments, if any, to the application running inside the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"driver\"), \".\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Driver\")), mdx(\"p\", null, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"driver\"), \" orchestrates and monitors execution of a Spark application. There\\u2019s always \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"one driver per Spark application\"), \". You can think of the driver as a wrapper around the application.\"), mdx(\"p\", null, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"driver\"), \" process runs our \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"main()\"), \" function, sits on a node in the cluster, and is responsible for:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Maintaining information about the Spark Application\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Responding to a user\\u2019s program or input\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Requesting memory and CPU resources from cluster managers\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Breaking application logic into stages and tasks\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Sending tasks to executors\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Collecting the results from the executors\")), mdx(\"p\", null, \"The driver process is absolutely essential - it\\u2019s the heart of a Spark Application and\\nmaintains all relevant information during the lifetime of the application.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Driver\"), \" is the JVM in which our application runs.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The secret to Spark's awesome performance is parallelism:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Scaling \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"vertically\"), \" (\", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"i.e. making a single computer more powerful by adding physical hardware\"), \") is limited to a finite amount of RAM, Threads and CPU speeds, due to the nature of motherboards having limited physical slots in Data Centers/Desktops.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Scaling \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"horizontally\"), \" (\", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"i.e. throwing more identical machines into the Cluster\"), \") means we can simply add new \\\"nodes\\\" to the cluster almost endlessly, because a Data Center can theoretically have an interconnected number of ~infinite machines\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"We parallelize at two levels:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The first level of parallelization is the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Executor\"), \" - a JVM running on a node, typically, \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"one executor instance per node\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The second level of parallelization is the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Slot\"), \" - the number of which is \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"determined by the number of cores and CPUs of each node/executor\"), \".\")))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Executor\")), mdx(\"p\", null, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"executors\"), \" are responsible for actually executing the work that the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"driver\"), \" assigns them. This means, each\\nexecutor is responsible for only two things:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Executing code assigned to it by the driver\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Reporting the state of the computation, on that executor, back to the driver node\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Cores/Slots/Threads\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Each \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Executor\"), \" has a number of \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Slots\"), \" to which parallelized \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Tasks\"), \" can be assigned to it by the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Driver\"), \".\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"So for example:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If we have \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"3\"), \" identical home desktops (\", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"nodes\"), \") hooked up together in a LAN (like through your home router), each with i7 processors (\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"8\"), \" cores), then that's a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"3\"), \" node Cluster:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"1\"), \" Driver node\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"2\"), \" Executor nodes\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"8 cores per Executor node\"), \" means \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"8 Slots\"), \", meaning the driver can assign each executor up to \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"8 Tasks\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The idea is, an i7 CPU Core is manufactured by Intel such that it is capable of executing it's own Task independent of the other Cores, so \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"8 Cores = 8 Slots = 8 Tasks in parellel\"))))))))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"For example: the diagram below is showing 2 Core Executor nodes:\"), \"\\n\", mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"720px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/40b46f53a2ca56790c4d03e7a8136aaa/242a6/jvm-task-distribution.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"31.25%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAABYklEQVQY002PS0sCYRSG5x+0aJW1ahXtc9MiIqj+g4sW4ao/0EYrIswIUmpTajLextCN5iaCQEHJC0IzBcVE2pS3Ecd0vplvvrn4NRlEL+/inMPDA4fQRyNtXHPAGBsYq7oODdwq3T0FXEzg8KOcBaquGYYxBv7zBP7LyFAQ0hSIEcSqokLT8OPSoLkirEDzghDCY8VviPTzW4hhfUU6UGIkAIpcM/jA+sq0r/rID4afX4PzCnNRof0MW220h6LoL9FmSZq9Yd8JayQxG4nPxRLTwRiU5O1cYeKStEZTFi+ZqzcyL7UpD7kYTk96Q65CVRiIlmB0nkrOkNH15DWxkfIvU7vLlGstfiwBdHp/u0A5bGceu2O/zDXyr7VN55796MS2cxDJ5gUgrV65Vyj3EuXcyoSJHoAdEXaBUmvymqYBpLaHMi/Bek8QJQnpRmsIeEnm+oOO0Df/5EWZF6HJcO3uN2zSIoBnqmWMAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Task distribution across Executors\",\n    \"title\": \"Task distribution across Executors\",\n    \"src\": \"/static/40b46f53a2ca56790c4d03e7a8136aaa/242a6/jvm-task-distribution.png\",\n    \"srcSet\": [\"/static/40b46f53a2ca56790c4d03e7a8136aaa/9aebd/jvm-task-distribution.png 480w\", \"/static/40b46f53a2ca56790c4d03e7a8136aaa/242a6/jvm-task-distribution.png 720w\"],\n    \"sizes\": \"(max-width: 720px) 100vw, 720px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Task distribution across Executors\"), \"\\n  \")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The JVM is naturally multithreaded, but a single JVM, such as our \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Driver\"), \", has a finite upper limit.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"By creating \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Tasks\"), \", the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Driver\"), \" can assign units of work to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Slots\"), \" on each \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Executor\"), \" for parallel execution.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Additionally, the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Driver\"), \" must also decide how to partition the data so that it can be distributed for parallel processing (see below).\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Consequently, the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Driver\"), \" is assigning a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Partition\"), \" of data to each task - in this way each \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Task\"), \" knows which piece of data it is to process.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Once started, each \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Task\"), \" will fetch from the original data source (e.g. An Azure Storage Account) the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Partition\"), \" of data assigned to it.\")))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Example relating to Tasks, Slots and Cores\")), mdx(\"p\", null, \"You can set the number of task slots to a value two or three times (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"i.e. to a multiple of\"), \") the number of CPU cores. Although these task slots are often referred to as CPU cores in Spark, they\\u2019re implemented as \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"threads\"), \" that work on a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"physical core's thread\"), \" and don\\u2019t need to correspond to the number of physical CPU cores on the machine (since different CPU manufacturer's can architect multi-threaded chips differently).\"), mdx(\"p\", null, \"In other words:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"All processors of today have multiple cores (e.g. 1 CPU = 8 Cores)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Most processors of today are multi-threaded (e.g. 1 Core = 2 Threads, 8 cores = 16 Threads)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A Spark \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Task\"), \" runs on a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Slot\"), \". \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"1 Thread\"), \" is capable of doing \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"1 Task\"), \" at a time. To make use of all our threads on the CPU, we cleverly assign the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"number of Slots\"), \" to correspond to a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"multiple of the number of Cores\"), \" (which translates to multiple Threads).\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"By doing this\"), \", after the Driver breaks down a given command (\", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"DO STUFF FROM massive_table\"), \") into \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Tasks\"), \" and \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Partitions\"), \", which are tailor-made to fit our particular Cluster Configuration (say \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"4 nodes - 1 driver and 3 executors, 8 cores per node, 2 threads per core\"), \"). By using our Clusters at maximum efficiency like this (utilizing all available threads), we can get our massive command executed as fast as possible (given our Cluster in this case, \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"3\", \"*\", \"8\", \"*\", \"2 Threads --> \", mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"48\"), \" Tasks, \", mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"48\"), \" Partitions\"), \" - i.e. \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"1\"), \" Partition per Task)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Say we don't do this\"), \", even with a 100 executor cluster, the entire burden would go to 1 executor, and the other 99 will be sitting idle - i.e. slow execution.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Or say, we instead foolishly assign \", mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"49\"), \" Tasks and \", mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"49\"), \" Partitions\"), \", the first pass would execute \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"48\"), \" Tasks in parallel across the executors cores (say in \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"10 minutes\"), \"), then that \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"1\"), \" remaining Task in the next pass will execute on \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"1\"), \" core for another \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"10 minutes\"), \", while the rest of our \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"47\"), \" cores are sitting idle - meaning the whole job will take double the time at \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"20 minutes\"), \". This is obviously an inefficient use of our available resources, and could rather be fixed by setting the number of tasks/partitions to a multiple of the number of cores we have (in this setup - 48, 96 etc).\")))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Partitions\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, \"DataFrames\"))), mdx(\"p\", null, \"A DataFrame is the most common Structured API and simply represents a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"table of data with \", mdx(\"em\", {\n    parentName: \"strong\"\n  }, \"rows\"), \" and \", mdx(\"em\", {\n    parentName: \"strong\"\n  }, \"columns\")), \". The\\nlist of columns and the types in those columns is called \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"the schema\"), \".\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"468px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/5cf07262bf02ad226b2b4e62c272f3e0/b4003/printSchema.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"69.65811965811966%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAABJ0AAASdAHeZh94AAABzUlEQVQoz4VS15KbQBDU///b+cWWdSJsDmxgF5BAKGG3JAdZ56qbB2qB7ZkOs8o5a21s0zjnmqbRKKONMaltD5/VKuWklbbWNtZ6f8MrJQXnKaXDPH8Czjk1jV1+/KeWZblcL3g+3j5eWKH5btiF4EhNMD/nDpwJqW4SlKS0Lopt7rrdMFBStym/gqdxDCEQQhpjhJTjOOIeZdwYzaX4vv7mfJjnWUnFGH8msDoe5nG/73J++/JWbDfobS1YlGVVwUEhRVUVMDSnROqacXE+n8f9DoKh5jYZYHguheLozDn8FjgxFmJLqoIwCucZZwDHNp1PpzbiT3tdFoBn0G5TSykpi63SRildVVWMoQZ5SuC8D9EaU27LcZqmw6Hv++Px9KB909w4C81GK3IvxHbroTTEgzDnAl1c446nE+JrYxzH6Rd4v9t533xdr4e+B6woSyxMXdY1Rtd1ynnoB0ZZjPFjVHfaMYAqumhlKKFKKcE4oawoCx88cpJcwIs/+T9HNTlnsZNd1xdFiWXDigG22byDc0qtEBJUr9fr8u+mrI4QMU0hBu/90GVCKOLxzlFCOKK2BllAhZQSZr3Sfl7Gx+Fy+b2Sy9+Py71ewD8BpnEQbfcgCXgAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Example of a DataFrame schema\",\n    \"title\": \"Example of a DataFrame schema\",\n    \"src\": \"/static/5cf07262bf02ad226b2b4e62c272f3e0/b4003/printSchema.png\",\n    \"srcSet\": [\"/static/5cf07262bf02ad226b2b4e62c272f3e0/b4003/printSchema.png 468w\"],\n    \"sizes\": \"(max-width: 468px) 100vw, 468px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Example of a DataFrame schema\"), \"\\n  \")), mdx(\"p\", null, \"A simple analogy would be a spreadsheet with named columns. The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"fundamental difference\"), \" is that while a spreadsheet sits on \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"one computer\"), \" in one specific location (e.g. \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"C:\\\\Users\\\\raki.rahman\\\\Documents\\\\MyFile.csv\"), \"), a\\nSpark DataFrame can span \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"thousands of computers\"), \".\"), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, mdx(\"p\", null, \"\\uD83D\\uDCA1 The reason for putting the data on more than one computer is intuitive\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Either \", mdx(\"em\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"the data is too large to fit on one machine\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Or it would simply \", mdx(\"em\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"take too long to perform that computation on one machine\")), \".\"))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, \"Data Partitions\"))), mdx(\"p\", null, \"In order to allow every executor to perform work in parallel, Spark breaks up the data into \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"chunks\"), \", called \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"partitions\"), \".\\n\", mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"684px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/fd435a6ac6ce3f3d5efa02a0436a95c2/544f7/data-partitions.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"43.541666666666664%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjUlEQVQoz21SyVLCUBDkmzx40N/z6sGTX2CVB73oUYuiADlAEBcCPJYQEhHCmj1ACO28l4QSJZVJv5ru9PSkktnh/yV6ux3dx9g/2kSTYmYxn6Ely2izFliziaGmYR0EglwFPphch64oUBhDh3i124XSZpDrn2DU833/0HBqWig3SDj8BlP66I3GcMNQkA4ZV3p91NQBXhUVbwMNVUKpRwM0HbZl7c32hk3LRWlu41YzcENVmJp4W9qClBY2Tp7KOM9KOMtWqSQ6V3H6XEF56QjNNtodGvYcDy0yve7ouGypeCczxYnX0L0AxckSOWOOvLEQWJgs8EK98sw8+j0zsumgRkkevia408aQ5hY+kulGsMYoWEF1fWGeIu/naIBG5zwNKE6XQicScrJOpldsgAtZEQmHfkyO/NiM2S66tEmK3DRLaTu2h3vdwONwInTCkD/ccCvW5mnNTbhfgQ/jBg3iOM+Rm/JPUqJUAzcQ6aq01SgJkTn2r0VJb0vIh3lJub8wjGLNJoqwpkrf+QEke6QF5tlyOAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Physical Partitions\",\n    \"title\": \"Physical Partitions\",\n    \"src\": \"/static/fd435a6ac6ce3f3d5efa02a0436a95c2/544f7/data-partitions.png\",\n    \"srcSet\": [\"/static/fd435a6ac6ce3f3d5efa02a0436a95c2/9aebd/data-partitions.png 480w\", \"/static/fd435a6ac6ce3f3d5efa02a0436a95c2/544f7/data-partitions.png 684w\"],\n    \"sizes\": \"(max-width: 684px) 100vw, 684px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Physical Partitions\"), \"\\n  \")), mdx(\"p\", null, \"A \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"partition\"), \" is a collection of rows that sit on one physical machine in our cluster. A DataFrame\\u2019s partitions represent how\\nthe data is physically distributed across your cluster of machines during execution:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you have \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"one\"), \" partition, Spark will only have a parallelism of \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"one\"), \", even if you have thousands of executors.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you have \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"many\"), \" partitions, but only \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"one\"), \" executor, Spark will still only have a parallelism of \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"one\"), \" because there is only one computation resource.\")), mdx(\"p\", null, \"An important thing to note is that with DataFrames, we do not (for the most part) manipulate partitions manually\\n(on an individual basis). We simply specify high level transformations of data in the physical partitions and Spark\\ndetermines how this work will actually execute on the cluster.\"), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, mdx(\"p\", null, \"\\uD83D\\uDE80 The key points to understand are that:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Spark employs a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Cluster Manager\"), \" that is responsible for provisioning nodes in our cluster.\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Databricks provides a robust, high-performing \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Cluster Manager\"), \" as part of its overall offerings.\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"In each of these scenarios, the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Driver\"), \" is running on one node, with each \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Executors\"), \" running on N different nodes.\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Databricks abstracts away the Cluster Management aspects for us (which is a massive pain)\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"From a developer's and student's perspective the primary focus is on:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The number of \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Partitions\"), \" the data is divided into\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The number of \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Slots\"), \" available for parallel execution\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"How many \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Jobs\"), \" are being triggered?\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"And lastly the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Stages\"), \" those jobs are divided into\"))))), mdx(\"h2\", {\n    \"id\": \"spark-execution\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#spark-execution\",\n    \"aria-label\": \"spark execution permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Spark Execution\"), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, \"\\uD83C\\uDF93 Candidates are expected to be familiar with Spark\\u2019s execution model and the breakdown between the different elements:\"), mdx(\"p\", null, \"In Spark, the highest-level unit of computation is an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"application\"), \". A Spark application can be used for a single batch job, an interactive session with multiple jobs, or a long-lived server continually satisfying requests.\"), mdx(\"p\", null, \"Spark \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"application execution\"), \", alongside \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"drivers\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"executors\"), \", also involves runtime concepts such as \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"tasks\"), \", \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"jobs\"), \", and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"stages\"), \". Invoking an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"action\"), \" inside a Spark application triggers the launch of a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"job\"), \" to fulfill it. Spark examines the dataset on which that action depends and formulates an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"execution plan\"), \". The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"execution plan\"), \" assembles the dataset transformations into \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"stages\"), \". A \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"stage\"), \" is a collection of tasks that run the same code, each on a different subset of the data.\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"https://docs.cloudera.com/documentation/enterprise/5-6-x/images/spark-tuning-f1.png\",\n    \"alt\": \"Spark Execution Model\"\n  })), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Overview of DAGSchedular\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"DAGScheduler\"), \" is the scheduling layer of Apache Spark that implements stage-oriented scheduling. It transforms a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"logical\"), \" execution plan to a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"physical\"), \" execution plan (using stages).\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"425px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/7c64603a24eb8bec19e8e84d5d6df8d0/df70d/dag-scheduler.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"126.82352941176471%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEN0lEQVQ4y42UfUhbVxTA84cfIEarpqZ+UGWKwnRmmwMnTQpONqx/SqHFLZikjUz/2dhA6B8TBg7rV53QzdpKs5V1c2UUoVPWOled0WjVGD9idDjL1CYxMYkv7+Xj5d137857UVc3/9jl8Ljn3PO7554PnkSr05WXl1+oqqqsrKyqulBdXV1RUaFUKkGtqHhHqVSdO6dUqVSgnj+vKisrU5SUFBYWyuXy5uZmCejx8fFZWVnZ2dl5+XkZGRlSqTQzMzM1NTUtLU0qTUpOTgbXlFPCSkhIkEgkMTEx8K2vr5fA9YmJ0uLi4leLigoKC0sUiiLYFBTk5OTk5+efPZuT90pebm5uZlYWbGSyNPGSUwA3NjYKkWGXlJyUnp4ul5+BaDKZTH4Glhxigt/p07JEcaWkpMTGxsbFxcEHEL1eL2lqaoI8L1+6fEVcOp3u6pWrsBoaGjR1GrVardfXa7VQGZ1Go6mrqwMGtJqaGoPBICEnLZ7n4Ts0NGRZtMAGY3yi28lw1Ntw1zA6Ovq/YA5xdMDPBP3wpRkqEGJGRp/MmWdDbNDPUNGjQJB++SIB5rHwSOPmo8+NF9unNR1zosxqehb1PUv6znltp1nbMadtm65rmajd3LMeIf/Aw2uGj35/u2ns3YsdCpBL3W+831v6QV+puu+t2q9K9d+XX5t67+PflCsOk4igI1jY/Wy78+FTxSdjKvW3CkHuKbT3S9XfvF7b/1ptf4l24M1PjarGkdJl+9QxGIuRrfbpuwuf3V9u/cEmyMDa9dsz1wzm5h/X2wTLaut3y1/cW2hxUH8dIcerjUVBhI8IZ48Gh8zPFgVzBBP+8PTEamOC4TGQPziKvuRO/+3HTx5HHxk1CgIOhwU/gHnB499tXF6xbm/vHPUZ/8dHhCMcQfBWnvF6Ga8PwkPTCcfBSYj20x4PD6pg5OCaEEXRex7ERg5hjnvOEIs7PLZu33ZTwkUc2mbIoocb/8Ox6fQJdyFkD+AlL5rY2LXZPUI8gLE4XA93cNf8XrfZs07x8ASQXxzkhmX/xrwbgKjl6S7pMPs6Z90TLo7wCFKJwtxDO+kye3qswTU/JMdzweDg80DL+J/dS/QiBbkiPhz6dSvQZdq6ueQz+aAjHD6MzNloYnSGTXucN0J4lg1Q1AZDJt3spIt1sQSzkRC1P+4iX6+zN63MlPc4/MxLflrde7Bktwd4KAnPRsw+8sDqGrDsbNJ82O/HbNjoIV8ueLpnnab9l2HEDTpIq3GrfcZpcQZwKAjlGXKSNpP9+tSLyRdBFGAg5wk3ubXO9q4yJu9xeHiX3LLSfav0BhQMC60acZE+W6B3hbJAwcCC0JibdMx72md2J4/gaKv8IeQNY5BIRKwth+igYPGFcZhF4hSgFR8ecpBhB7FBCRE6hLEwmgSLEcSJFyw8f6CKv6SDIUEoOgWCSsjfUGhllYUAx3wAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"DAGScheduler\",\n    \"title\": \"DAGScheduler\",\n    \"src\": \"/static/7c64603a24eb8bec19e8e84d5d6df8d0/df70d/dag-scheduler.png\",\n    \"srcSet\": [\"/static/7c64603a24eb8bec19e8e84d5d6df8d0/df70d/dag-scheduler.png 425w\"],\n    \"sizes\": \"(max-width: 425px) 100vw, 425px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"DAGScheduler\"), \"\\n  \")), mdx(\"p\", null, \"After an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"action\"), \" (see below) has been called, \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"SparkContext\"), \" hands over a logical plan to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"DAGScheduler\"), \" that it in turn translates to a set of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"stages\"), \" that are submitted as a set of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"tasks\"), \" for execution.\"), mdx(\"p\", null, \"The fundamental concepts of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"DAGScheduler\"), \" are \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"jobs\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"stages\"), \" that it tracks through internal registries and counters.\"), mdx(\"h3\", {\n    \"id\": \"jobs\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#jobs\",\n    \"aria-label\": \"jobs permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Jobs\"), mdx(\"p\", null, \"A \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Job\"), \" is a sequence of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"stages\"), \", triggered by an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"action\"), \" such as \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"count()\"), \", \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"collect()\"), \", \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"read()\"), \" or \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"write()\"), \".\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Each parallelized action is referred to as a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Job\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The results of each \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Job\"), \" (parallelized/distributed action) is returned to the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Driver\"), \" from the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Executor\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Depending on the work required, multiple \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Jobs\"), \" will be required.\")), mdx(\"h3\", {\n    \"id\": \"stages\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#stages\",\n    \"aria-label\": \"stages permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Stages\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Each \", mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"job\"), \" that gets divided into smaller \", mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"sets of tasks\"), \" is a \", mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"stage\"), \".\")), mdx(\"p\", null, \"A \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stage\"), \" is a sequence of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Tasks\"), \" that can all be run together - i.e. in parallel - without a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"shuffle\"), \". For example: using \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \".read\"), \" to read a file from disk, then runnning \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \".filter\"), \" can be done without a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"shuffle\"), \", so it can fit in a single \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"stage\"), \". The number of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Tasks\"), \" in a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stage\"), \" also depends upon the number of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Partitions\"), \" your datasets have.\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"https://i.imgur.com/wCMLYrH.png\",\n    \"alt\": \"Job Stages\"\n  })), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Each \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Job\"), \" is broken down into \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stages\"), \".\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"This would be analogous to building \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"a house\"), \" (the job) - attempting to do any of these steps out of order doesn't make sense:\"), mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Lay the foundation\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Erect the walls\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Add the rooms\")))), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"https://i.imgur.com/PLkW7S8.png\",\n    \"alt\": \"Spark Stages\"\n  })), mdx(\"p\", null, \"In other words:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stage\"), \" is a step in a physical execution plan - a physical unit of the execution plan\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stage\"), \" is a set of parallel \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"tasks - one task per partition - the blue boxes on the right of the diagram above\"), \" (of an RDD that computes \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"partial\"), \" results of a function executed as part of a Spark job).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A Spark \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"job\"), \" is a computation with that computation sliced into \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stages\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stage\"), \" is uniquely identified by \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"id\"), \". When a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stage\"), \" is created, \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"DAGScheduler\"), \" increments internal counter \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"nextStageId\"), \" to track the number of stage submissions.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Each \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stage\"), \" contains a sequence of \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"narrow transformations\"), \" (see below) that can be completed without \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"shuffling\"), \" the entire data set, separated at \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"shuffle boundaries\"), \", i.e. where shuffle occurs. \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Stages\"), \" are thus a result of breaking the RDD at shuffle boundaries.\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"An inefficient example of Stages\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"When we shuffle data, it creates what is known as a \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"stage boundary\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Stage boundaries represent a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"process bottleneck\"), \".\")), mdx(\"p\", null, \"Take for example the following transformations:\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"C1\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C2\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Step\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Transformation\"))))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"1\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Read\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"2\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"3\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"6\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"7\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Write\"))))), mdx(\"p\", null, \"Spark will break this one job into two stages (steps \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"1-4b\"), \" and steps \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"4c-8\"), \"):\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stage #1\")), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"C1\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C2\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Step\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Transformation\"))))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"1\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Read\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"2\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"3\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4a\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\"), \" \", mdx(\"em\", {\n    parentName: \"td\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"1\"), \"/2\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4b\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"shuffle write\"))))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stage #2\")), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"C1\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C2\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Step\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Transformation\"))))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4c\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"shuffle read\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4d\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\"), \" \", mdx(\"em\", {\n    parentName: \"td\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"2\"), \"/2\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"6\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"7\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Write\"))))), mdx(\"p\", null, \"In \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stage #1\"), \", Spark will create a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pipeline of transformations\"), \" in which the data is read into RAM (Step #1), and then perform steps #2, #3, #4a & #4b\"), mdx(\"p\", null, \"All partitions must complete \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stage #1\"), \" before continuing to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stage #2\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"It's not possible to \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"Group\"), \" all records across all partitions until every task is completed.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"This is the point at which all the tasks (across the executor slots) must synchronize.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"This creates our \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"bottleneck\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Besides the bottleneck, this is also a significant \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"performance hit\"), \": \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"disk IO, network IO and more disk IO\"), \".\")), mdx(\"p\", null, \"Once the data is shuffled, we can resume execution.\"), mdx(\"p\", null, \"For \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stage #2\"), \", Spark will again create a pipeline of transformations in which the shuffle data is read into RAM (Step #4c) and then perform transformations #4d, #5, #6 and finally the write action, step #7.\"), mdx(\"h3\", {\n    \"id\": \"tasks\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#tasks\",\n    \"aria-label\": \"tasks permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Tasks\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"https://i.imgur.com/HcyLVyw.png\",\n    \"alt\": \"Spark Task\"\n  })), mdx(\"p\", null, \"A \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"task\"), \" is a unit of work that is sent to the executor. Each \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"stage\"), \" has some tasks, one \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"task per partition\"), \". The same task is done over different partitions of the RDD.\"), mdx(\"p\", null, \"In the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"example of Stages\"), \" above, each \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Step\"), \" is a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Task\"), \".\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"An efficient example of Stages\")), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Working Backwards\", \"*\")), mdx(\"p\", null, \"From the developer's perspective, we start with a read and conclude (in this case) with a write\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"C1\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C2\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Step\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Transformation\"))))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"1\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Read\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"2\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"3\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"6\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"7\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Write\"))))), mdx(\"p\", null, \"However, Spark starts backwards with the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"action\"), \" (\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"write(..)\"), \" in this case).\"), mdx(\"p\", null, \"Next, it asks the question, \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"what do I need to do first\"), \"?\"), mdx(\"p\", null, \"It then proceeds to determine which transformation precedes this step until it identifies the first transformation.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"C1\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C2\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C3\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Step\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Transformation\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Dependencies\"))))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"7\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Write\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Depends on #6\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"6\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Depends on #5\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Depends on #4\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Depends on #3\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"3\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Depends on #2\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"2\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Depends on #1\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"1\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Read\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"First\")))), mdx(\"p\", null, \"This would be equivalent to understanding your own lineage.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You don't ask if you are related to \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Genghis Khan\"), \" and then work through the ancestry of all his children (5% of all people in Asia).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You start with your mother.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Then your grandmother\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Then your great-grandmother\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"... and so on\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Until you discover you are actually related to \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Catherine Parr, the last queen of Henry the VIII\"), \".\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Why Work Backwards?\")), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, mdx(\"p\", null, \"\\uD83E\\uDD14 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Question:\"), \" So what is the benefit of working backward through your action's\\nlineage?\"), mdx(\"p\", null, \"\\uD83D\\uDE4B \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Answer:\"), \" It allows Spark to determine if it is necessary to\\nexecute every transformation.\")), mdx(\"p\", null, \"Take another look at our example:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Say we've executed this once already\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"On the first execution, \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Step #4\"), \" resulted in a shuffle\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Those shuffle files are on the various \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"executors\"), \" already (src & dst)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Because the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"transformations\"), \" (or DataFrames) are \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"immutable\"), \", no aspect of our lineage can change (meaning that DataFrame is sitting on a chunk of the executor's RAM from the last time it was calculated, ready to be referenced again).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"That means the results of our \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"previous\"), \" \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"shuffle\"), \" (if still available) can be reused.\")), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"C1\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C2\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C3\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Step\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Transformation\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Dependencies\"))))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"7\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Write\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Depends on #6\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"6\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Depends on #5\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Depends on #4\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"<<< shuffle\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"3\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"don't care\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"2\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"don't care\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"1\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Read\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"don't care\"))))), mdx(\"p\", null, \"In this case, what we end up executing is only the operations from \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stage #2\"), \".\"), mdx(\"p\", null, \"This saves us the initial network read and all the transformations in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stage #1\")), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"C1\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C2\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C3\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Step\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Transformation\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Dependencies\"))))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"1\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Read\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"2\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"3\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4a\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\"), \" \", mdx(\"em\", {\n    parentName: \"td\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"1\"), \"/2\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4b\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"shuffle write\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4c\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"shuffle read\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4d\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\"), \" \", mdx(\"em\", {\n    parentName: \"td\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"2\"), \"/2\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"6\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"7\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Write\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\")))), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, mdx(\"p\", null, \"\\uD83D\\uDE80 The key points to understand are that:\"), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Jobs\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Highest element of Spark\\u2019s execution hierarchy.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Each Spark job corresponds to one \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Action\"))), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Stages\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"As mentioned above, a job is defined by calling an action.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The action may include several \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"transformations\"), \", which breaks down \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"jobs\"), \" into \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stages\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Several \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"transformations\"), \" with \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"narrow\"), \" dependencies can be grouped into one stage\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"It is possible to execute \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stages\"), \" in \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"parallel\"), \" if they are used to compute different RDDs\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Wide\"), \" \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"transformations\"), \" that are needed to compute one RDD have to be computed in sequence\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"One \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stage\"), \" can be computed without moving data across the partitions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Within one \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stage\"), \", the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"tasks\"), \" are the unit of work done for each partition of the data\")), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Tasks\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stage\"), \" consists of \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"tasks\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"task\"), \" is the smallest unit in the execution hierarchy\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Each \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"task\"), \" can represent one local computation\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"One \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"task\"), \" cannot be executed on more than one \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"executor\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"However, each \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"executor\"), \" has a dynamically allocated number of \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"slots\"), \" for running \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"tasks\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The number of \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"tasks\"), \" per \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stage\"), \" corresponds to the number of partitions in the output RDD of that \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"stage\")))), mdx(\"h2\", {\n    \"id\": \"spark-concepts\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#spark-concepts\",\n    \"aria-label\": \"spark concepts permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Spark Concepts\"), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, \"\\uD83C\\uDF93 Candidates are expected to be familiar with the following concepts:\"), mdx(\"h3\", {\n    \"id\": \"caching\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#caching\",\n    \"aria-label\": \"caching permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Caching\"), mdx(\"p\", null, \"The reuse of shuffle files (aka our temp files) is just one example of Spark optimizing queries anywhere it can.\"), mdx(\"p\", null, \"We cannot assume this will be available to us.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Shuffle files\"), \" are by \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"definition\"), \" \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"temporary files\"), \" and will eventually be removed.\"), mdx(\"p\", null, \"However, we can cache data to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"explicitly\"), \" to accomplish the same thing that happens inadvertently (i.e. we get \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"lucky\"), \") with shuffle files.\"), mdx(\"p\", null, \"In this case, the lineage plays the same role. Take for example:\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"C1\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C2\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C3\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Step\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Transformation\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Dependencies\"))))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"7\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Write\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Depends on #6\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"6\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Depends on #5\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"<<< cache\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"<<< shuffle files\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"3\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"?\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"2\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"?\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"1\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Read\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"?\")))), mdx(\"p\", null, \"In this case we \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"explicitly asked Spark to cache\"), \" the DataFrame resulting from the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"select(..)\"), \" in Step 5 (after the shuffle across the network due to \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\"), \".\"), mdx(\"p\", null, \"As a result, we never even get to the part of the lineage that involves the shuffle, let alone \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Stage #1\"), \" (i.e. we skip the whole thing, making our job execute faster).\"), mdx(\"p\", null, \"Instead, we pick up with the cache and resume execution from there:\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"C1\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C2\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C3\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Step\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Transformation\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Dependencies\"))))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"1\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Read\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"2\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"3\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4a\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\"), \" \", mdx(\"em\", {\n    parentName: \"td\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"1\"), \"/2\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4b\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"shuffle write\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4c\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"shuffle read\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"4d\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"GroupBy\"), \" \", mdx(\"em\", {\n    parentName: \"td\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"2\"), \"/2\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"em\", {\n    parentName: \"td\"\n  }, \"skipped\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"5a\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"cache read\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"5b\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Select\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"6\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Filter\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"7\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"Write\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\")))), mdx(\"h3\", {\n    \"id\": \"shuffling\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#shuffling\",\n    \"aria-label\": \"shuffling permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Shuffling\"), mdx(\"p\", null, \"A Shuffle refers to an operation where data is \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"re-partitioned\"), \" across a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Cluster\"), \" - i.e. when data needs to move between executors.\"), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"join\"), \" and any operation that ends with \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ByKey\"), \" will trigger a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Shuffle\"), \". It is a costly operation because a lot of data can be sent via the network.\"), mdx(\"p\", null, \"For example, to group by color, it will serve us best if...\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"All the reds are in one partitions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"All the blues are in a second partition\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"All the greens are in a third\")), mdx(\"p\", null, \"From there we can easily sum/count/average all of the reds, blues, and greens.\"), mdx(\"p\", null, \"To carry out the shuffle operation Spark needs to\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Convert the data to the UnsafeRow (if it isn't already), commonly refered to as \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Tungsten Binary Format\"), \".\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Tungsten\"), \" is a new Spark SQL component that provides more efficient Spark operations by working directly at the byte level.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Includes specialized in-memory data structures tuned for the type of operations required by Spark\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Improved code generation, and a specialized wire protocol.\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Write that data to disk on the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"local node\"), \" - at this point the slot is free for the next task.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Send that data across the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"network\"), \" to another \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"executor\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Driver\"), \" decides which \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"executor\"), \" gets which partition of the data.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Then the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"executor\"), \" pulls the data it needs from the other executor's shuffle files.\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Copy the data back into \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"RAM\"), \" on the new executor\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The concept, if not the action, is just like the initial read \\\"every\\\" \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"DataFrame\"), \" starts with.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The main difference being it's the 2nd+ stage.\")))), mdx(\"p\", null, \"This amounts to a free cache from what is effectively temp files.\"), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, mdx(\"p\", null, \"\\uD83D\\uDCA1 Some actions result in a shuffle.\"), mdx(\"p\", null, \"Good examples would include the operations \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"count()\"), \" and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"reduce(..)\"), \".\")), mdx(\"h3\", {\n    \"id\": \"partitioning\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#partitioning\",\n    \"aria-label\": \"partitioning permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Partitioning\"), mdx(\"p\", null, \"A \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Partition\"), \" is a logical chunk of your \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"DataFrame\")), mdx(\"p\", null, \"Data is split into \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Partitions\"), \" so that each \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Executor\"), \" can operate on a single part, enabling \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"parallelization\"), \".\"), mdx(\"p\", null, \"It can be processed by a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"single Executor core/thread\"), \".\"), mdx(\"p\", null, \"For example: If you have \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"4\"), \" data partitions and you have \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"4\"), \" executor cores/threads, you can process everything in parallel, in a single pass.\"), mdx(\"h3\", {\n    \"id\": \"dataframe-transformations-vs-actions-vs-operations\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#dataframe-transformations-vs-actions-vs-operations\",\n    \"aria-label\": \"dataframe transformations vs actions vs operations permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"DataFrame Transformations vs. Actions vs. Operations\"), mdx(\"p\", null, \"Spark allows two distinct kinds of operations by the user: \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"transformations\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"actions\"), \".\"), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, mdx(\"p\", null, \"\\u2757 Transformations are \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"LAZY\"), \", Actions are \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"EAGER\"))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Transformations - Overview\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Transformations\"), \" are operations that will not be completed at the time you write and execute the code in a cell (they're \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"lazy\"), \") - they will only get executed once you have called an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"action\"), \". An example of a transformation might be to convert an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"integer\"), \" into a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"float\"), \" or to \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"filter\"), \" a set of values: i.e. they can be procrastinated and don't have to be done \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"right now\"), \" - but later after we have a full view of the task at hand.\"), mdx(\"p\", null, \"Here's an analogy:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Let's say you're cleaning your closet, and want to donate clothes that don't fit (there's a lot of these starting from childhood days), and sort out and store the rest by color before storing in your closet.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you're \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"inefficient\"), \", you could sort out all the clothes by color (let's say that takes \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"60 minutes\"), \"), then from there pick the ones that fit (\", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"5 minutes\"), \"), and then take the rest and put it into one big plastic bag for donation (where all that sorting effort you did went to waste because it's all jumbled up in the same plastic bag now anyway)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you're \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"efficient\"), \", you'd first pick out clothes that fit very quickly (\", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"5 minutes\"), \"), then sort those into colors (\", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"10 minutes\"), \"), and then take the rest and put it into one big plastic bag for donation (where there's no wasted effort)\")), mdx(\"p\", null, \"In other words, by evaluating the full view of the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"job\"), \" at hand, and by being \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"lazy\"), \" (not in the traditional sense - but in the smart way by \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"not eagerly\"), \" sorting everything by color for no reason), you were able to achieve the same goal in \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"15 minutes\"), \" vs \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"65 minutes\"), \" (clothes that fit are sorted by color in the closet, clothes that don' fit are in plastic bag).\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Actions - Overview\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Actions\"), \" are commands that are computed by Spark right at the time of their execution (they're \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"eager\"), \"). They consist of running all of the previous transformations in order to get back an actual result. An \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"action\"), \" is composed of one or more \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"jobs\"), \" which consists of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"tasks\"), \" that will be executed by the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"executor slots\"), \" in parallel - i.e. a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"stage\"), \" - where possible.\"), mdx(\"p\", null, \"Here are some simple examples of transformations and actions.\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"522px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/a0cbe1310a5fa370445da458d8aa8b30/d15a3/actions-overview.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"58.54166666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACRElEQVQoz3VSyW7aUBT1z3TZTatKXXTfbjsom+z6Rf2KqEPaiKoRARJCUyiEwWAwBmMMBtuYeTaQSuX03kdTVTS1dHTOu/e+Oz1L2Pt+rhfYbny0qzL6loa7PseycBWNAdvtPz6pOp4hosTxVcsgZcoIZeI4z10jUasiSTBmPozpHPpkB3OxwkkijTdvP0J2uqjPfWGvUJ7pzQ9I99+F8TyYwEE4iZfhFA4vczi4yOJFJI1nwSQeHZ/jycklHhKzfvAhglcXGbz+XsLT02/i/PhTFPeOggg0XUinlQZCNQthwnG2iPfXeQQKmjiH9CbO9J0vSJpxRjqgVHCUyOBUq4tziGI+aybs6QKSO5rCo5Ytr4+CpqNUM1GuN9ChEVwCszfZMaNLl4y2i2xRRas7EHfZ7lAef3NDO/QGqPfHUCkoWa4iVdYFat3hDr0hjN7oj2bOUtG4okJp2jsf2SuUZ7raQFJsD6rbQ6HlIpYvIZKWcaWUoXb6KNpdlGjx7BeaOG85iKtVEcPMNo7JtzsYL1c08phaprY9GqU9GKNE43qzpbDdgn3MLqFLPrPTg0zr4TFvfQ6N7fMr5yyXsnvIUeVwJo8v8RSi1GmBOpdbHVG50P6tCcx8J9t0SLvCxjEZOg8XPqQ2VeHsLepONS0oRgOaZcOhqjb5bF44wd6Ds6dbwymW/Ci8H432xUjrJmJyETmzJZasuTv73/ouVAi8x4m/hlTvj2ASmsMJKjaNpNdh0O/QoI7ZztwU+v/gGINeer7e4BcDuFjpoJoOJQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Examples of transformations and actions\",\n    \"title\": \"Examples of transformations and actions\",\n    \"src\": \"/static/a0cbe1310a5fa370445da458d8aa8b30/d15a3/actions-overview.png\",\n    \"srcSet\": [\"/static/a0cbe1310a5fa370445da458d8aa8b30/9aebd/actions-overview.png 480w\", \"/static/a0cbe1310a5fa370445da458d8aa8b30/d15a3/actions-overview.png 522w\"],\n    \"sizes\": \"(max-width: 522px) 100vw, 522px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Examples of transformations and actions\"), \"\\n  \")), mdx(\"p\", null, \"Spark \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"pipelines\"), \" a computation as we can see in the image below. This means that certain computations can all be performed at once (like a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"map\"), \" and a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"filter\"), \") rather than having to do one operation for all pieces of data, and then the following operation.\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"426px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/01151eedb432cf75b29efcd3f975b7aa/28e10/pipelining-overview.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"88.73239436619718%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACcklEQVQ4y41Uy27TQBT1hgXfwYIfQuJLEJ/Bhu6KBAsWPCRaWLBiV4HagtKqEBqIS+WmSWM7Hntsz8uPwx0nDm6all7pKpOr8Zlz7j0zDq6Juq6btFFUFSKpwE0JnjDwPEeiDZjUyz3tr9P9sF13aynnYFkGXxm4qcJwGuJ3yODJAtNcQpflesB1aSOKIkilcKoqPB8GeLr7AxvfBng3FZgIDVMUFq3JmpQ4+E/EjCFVGowYBkTGzwR8aRASTkJ1PT8X5WK/E4YhfN8HJ2l2PZvNkCQJhBCXAXWBCwI6DwJc8AyhLhFTTeQCweNHmDx8ADkYwBlPxhjQotfrod/v4/j4eJlLyVrBFQVeeBxPvnzHxoGLN+MMk6JGNhrBu38PZ3fvgL19fb3kwvaGYnx+3jC0U41IVyQUQpouK2twqivaI77uI97eavru3DQQG0kcN4CTXCEgmdOIYUqSbR99GopeHNyGs84uXVBGPZTEbidIsbH/E88OXWweDLHZ93CUSFRV2Uy3Jvs0DK86ep4toB1KRgxHxOYkNziZ+jiZxTiVZcP6ig9vuilzhhEBKvRTjc+RwvZBHx+OfmE3rTAkoxctYFfyOpYtICcLcbope7HE1iTDy6MhXg3O8N6XOGQ5qg7Dy5Lr9ZIXuyFNgZRS5RmElODU16KqEZAvXddFRodeZrgC2JXdBd/59BH+6M/yoNU2OVcGstLDmliUuoKhu6xECe90BEZDsf+NrJAlOXJ6fYwxNzPsWseUFQIy9IwyoSfM3uuQXpqIDB7OInie14DeWrLtV7pgMK/N64JMzU1xe8ktoCaGNlfrJbVDNDflX+0vg6Ju6im/4IYAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Example of a Spark Pipeline\",\n    \"title\": \"Example of a Spark Pipeline\",\n    \"src\": \"/static/01151eedb432cf75b29efcd3f975b7aa/28e10/pipelining-overview.png\",\n    \"srcSet\": [\"/static/01151eedb432cf75b29efcd3f975b7aa/28e10/pipelining-overview.png 426w\"],\n    \"sizes\": \"(max-width: 426px) 100vw, 426px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Example of a Spark Pipeline\"), \"\\n  \")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Why is Laziness So Important?\")), mdx(\"p\", null, \"It has a number of benefits:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Not forced to load all data at step #1\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Technically impossible with \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"REALLY\"), \" large datasets.\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Easier to parallelize operations\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"N\"), \" different transformations can be processed on a single data element, on a single thread, on a single machine.\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Most importantly, it allows the framework to automatically apply various optimizations\")), mdx(\"h4\", null, \"Actions\"), mdx(\"p\", null, \"Transformations always return a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"DataFrame\"), \".\"), mdx(\"p\", null, \"In contrast, Actions either return a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"result\"), \" or \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"write to disk\"), \". For example:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The number of records in the case of \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"count()\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"An array of objects in the case of \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"collect()\"), \" or \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"take(n)\"))), mdx(\"p\", null, \"We've seen a good number of the actions - most of them are listed below.\"), mdx(\"p\", null, \"For the complete list, one needs to review the API docs.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, \"C1\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C2\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"C3\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Method\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Return\")))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"em\", {\n    parentName: \"strong\"\n  }, mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"Description\"))))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"collect()\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Collection\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Returns an array that contains all of Rows in this Dataset.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"count()\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Long\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Returns the number of rows in the Dataset.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"first()\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Row\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Returns the first row.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"foreach(f)\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Applies a function f to all rows.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"foreachPartition(f)\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Applies a function f to each partition of this Dataset.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"head()\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Row\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Returns the first row.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"reduce(f)\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Row\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Reduces the elements of this Dataset using the specified binary function.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"show(..)\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Displays the top 20 rows of Dataset in a tabular form.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"take(n)\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Collection\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Returns the first n rows in the Dataset.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"right\"\n  }, mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"toLocalIterator()\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Iterator\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Return an iterator that contains all of Rows in this Dataset.\")))), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, mdx(\"p\", null, \"\\uD83D\\uDCA1 The databricks command \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"display(..)\"), \" is not included here because it's not part of the Spark API, even though it ultimately calls an action.\")), mdx(\"h4\", null, \"Transformations\"), mdx(\"p\", null, \"Transformations have the following key characteristics:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"They eventually return another \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"DataFrame\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"DataFrames are \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"immutable\"), \" - that is each instance of a \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"DataFrame\"), \" cannot be altered once it's instantiated.\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"This means other optimizations are possible - such as the use of shuffle files (see below)\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Are classified as either a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Wide\"), \" or \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Narrow\"), \" transformation\")), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, mdx(\"p\", null, \"\\uD83D\\uDCA1 The list of transformations varies significantly between each language - because Java & Scala are \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"strictly\"), \" typed languages compared Python & R which are \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"loosely\"), \" typed.\")), mdx(\"h4\", null, \"Pipelining Operations\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"445px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/b830a0d98e6533fd631e037a09c46b03/a6969/pipelining-operations.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"128.53932584269663%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAABJ0AAASdAHeZh94AAACKElEQVQ4y5VUa4+aQBTd/9/0B7SfmvTbJk3UpHETo5HIis8s6gLqxgeIiM9VBgaQx/as024bjRUmfLhc5nDPPXPm3r3dWnEci6KoKEoQBGef7pKAs9lsqVTyfT81GKsjin1Zxl+Sgi3Lwu7geHT9o7ddUlND4PvebbDneZqmIVgul+12u16tNmpCp9OZnZK3wYZhIFiv11CrKgitVqvX683n8xRg16XEcejGJIZqIaBOCjBoo2aFKzfrNRG0Z7MU4M1mA7bNZqvb7cqyzJJ/wfHFOrF12T5KqWXb9soA7QOxHcdOQ9s0hVpNeOSF6uPTk6idqQ0+IKaqKgJ4cDweo7HFYsGE3W63yOOQ3n3S75umeQ4uFAr5fD6Xy5XLZbxmMhmO4xgY8oI2MfXftO0L2mEYRlH0kYKHCSEojljXZ2WO4ysVPPVGYzqd3u4ZgrHKMAm4PPe6Ug9NXdD+v2BQG2wtU7dOtG07mdqsMoTEZeR5/uHhAYqMRqMUlVerlSTJw77y3BFlRUlNe2+RvaHt9emBECcJbQim6zqCyWSCUwRhMC8WizDCbTDGFesZ3pYkaTgYjF5eYJLFH28zI1+dJDj8j7kTWTt/xW5ynHSGMfDu9fX+549PXz73BwP2091up05V9HUVHEUYYGEcvZED+fr9W4mvuNSNwvckDAlFHce5Cj56AbU8SrDrGLhh7McIKPHxOIRGMQwdJRq98T+tAoPxgoMcDoe/AJmwzCKYddjaAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Example of a Spark Pipeline\",\n    \"title\": \"Example of a Spark Pipeline\",\n    \"src\": \"/static/b830a0d98e6533fd631e037a09c46b03/a6969/pipelining-operations.png\",\n    \"srcSet\": [\"/static/b830a0d98e6533fd631e037a09c46b03/a6969/pipelining-operations.png 445w\"],\n    \"sizes\": \"(max-width: 445px) 100vw, 445px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Example of a Spark Pipeline\"), \"\\n  \")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Pipelining is the idea of executing as many \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"operations\"), \" as possible on a single partition of data.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Once a single partition of data is read into RAM, Spark will combine as many \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"narrow operations\"), \" as it can into a single \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"task\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Wide operations\"), \" force a shuffle, conclude, a stage and end a pipeline.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Compare to MapReduce where: - Data is read from disk\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A single transformation takes place\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Data is written to disk\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Repeat steps 1-3 until all transformations are completed\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"By avoiding all the extra network and disk IO, Spark can easily out perform traditional MapReduce applications.\")), mdx(\"h3\", {\n    \"id\": \"wide-vs-narrow-transformations\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#wide-vs-narrow-transformations\",\n    \"aria-label\": \"wide vs narrow transformations permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Wide vs. Narrow Transformations\"), mdx(\"p\", null, \"Regardless of language, transformations break down into two broad categories: \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"wide\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"narrow\"), \".\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Narrow Transformations\")), mdx(\"p\", null, \"The data required to compute the records in a single partition reside in at most one partition of the parent RDD.\"), mdx(\"p\", null, \"Examples include:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"filter(..)\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"drop(..)\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"coalesce()\"))), mdx(\"img\", {\n    \"src\": \"https://files.training.databricks.com/images/105/transformations-narrow.png\",\n    \"alt\": \"Narrow Transformations\",\n    \"style\": {\n      \"height\": \"300px\"\n    }\n  }), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Wide Transformations\")), mdx(\"p\", null, \"The data required to compute the records in a single partition may reside in many partitions of the parent RDD.\"), mdx(\"p\", null, \"Examples include:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"distinct()\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"groupBy(..).sum()\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"repartition(n)\"))), mdx(\"img\", {\n    \"src\": \"https://files.training.databricks.com/images/105/transformations-wide.png\",\n    \"alt\": \"Wide Transformations\",\n    \"style\": {\n      \"height\": \"300px\"\n    }\n  }), mdx(\"h3\", {\n    \"id\": \"high-level-cluster-configuration\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#high-level-cluster-configuration\",\n    \"aria-label\": \"high level cluster configuration permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"High-level Cluster Configuration\"), mdx(\"p\", null, \"Spark can run in:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"local mode\"), \" (on your laptop)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"inside \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Spark standalone\"), \", \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"YARN\"), \", and \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Mesos\"), \" clusters.\")), mdx(\"p\", null, \"Although Spark runs on all of them, one might be more applicable for your environment and use cases. In this section, you\\u2019ll find the pros and cons of each cluster type.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Spark local modes\")), mdx(\"p\", null, \"Spark local mode and Spark local cluster mode are special cases of a Spark standalone cluster running on a single machine. Because these cluster types are easy to set up and use, they\\u2019re convenient for quick tests, but they shouldn\\u2019t be used in a production environment.\"), mdx(\"p\", null, \"Furthermore, in these local modes, the workload isn\\u2019t distributed, and it creates the resource restrictions of a single machine and suboptimal performance. True high availability isn\\u2019t possible on a single machine, either.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Spark standalone cluster\")), mdx(\"p\", null, \"A Spark standalone cluster is a Spark-specific cluster. Because a standalone cluster is built specifically for Spark applications, it doesn\\u2019t support communication with an HDFS secured with Kerberos authentication protocol. If you need that kind of security, use YARN for running Spark.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"YARN cluster\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"YARN\"), \" is Hadoop\\u2019s resource manager and execution system. It\\u2019s also known as \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"MapReduce 2\"), \" because it superseded the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"MapReduce\"), \" engine in \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Hadoop 1\"), \" that supported only MapReduce jobs.\"), mdx(\"p\", null, \"Running Spark on YARN has several advantages:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Many organizations already have YARN clusters of a significant size, along with the technical know-how, tools, and procedures for managing and monitoring them.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Furthermore, YARN lets you run different types of Java applications, not only Spark, and you can mix legacy Hadoop and Spark applications with ease.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"YARN also provides methods for isolating and prioritizing applications among users and organizations, a functionality the standalone cluster doesn\\u2019t have.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"It\\u2019s the only cluster type that supports \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Kerberos-secured HDFS\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Another advantage of YARN over the standalone cluster is that you don\\u2019t have to install Spark on every node in the cluster.\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Mesos cluster\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Mesos\"), \" is a scalable and fault-tolerant \\u201Cdistributed systems kernel\\u201D written in C++. Running Spark in a Mesos cluster also has its advantages. Unlike YARN, Mesos also supports C++ and Python applications, and unlike YARN and a standalone Spark cluster that only schedules memory, Mesos provides scheduling of other types of resources (for example, CPU, disk space and ports), although these additional resources aren\\u2019t used by Spark currently. Mesos has some additional options for job scheduling that other cluster types don\\u2019t have (for example, fine-grained mode).\"), mdx(\"p\", null, \"And, Mesos is a \\u201Cscheduler of scheduler frameworks\\u201D because of its two-level scheduling architecture. The jury\\u2019s still out on which is better: YARN or Mesos; but now, with the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://myriad.incubator.apache.org/\"\n  }, \"Myriad project\"), \", you can run YARN on top of Mesos to solve the dilemma.\"), mdx(\"hr\", null), mdx(Callout, {\n    mdxType: \"Callout\"\n  }, mdx(\"p\", null, \"\\uD83C\\uDF89 That's it for \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Part 1\"), \"! We have now gone through the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Core Concepts\"), \" of the Apache Spark engine.\"), mdx(\"p\", null, \"\\uD83D\\uDC49 For \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Part 2\"), \" (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Applications\"), \") - click \", mdx(InlinePageLink, {\n    to: \"/spark-certification-study-guide-part-2\",\n    mdxType: \"InlinePageLink\"\n  }, \"here\"))));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Spark Certification Study Guide - Part 1 (Core)","date":"January 1st 2020","datetime":"2020-01-01T00:00:00.000Z","description":"Part 1 of the Study Guide I created to pass the Spark Certification Exam","toc":true},"fields":{"slug":"/spark-certification-study-guide-part-1/"},"excerpt":"🥇 This is  Part 1  of the Study guide, focusing on the Core Concepts of Apache Spark. 🥈 For  Part 2  (Applications) - click  here While…","tableOfContents":{"items":[{"url":"#awesome-resourcesreferences-used-throughout-this-guide","title":"Awesome Resources/References used throughout this guide","items":[{"url":"#references","title":"References"},{"url":"#other-resources","title":"Other Resources"}]},{"url":"#spark-architecture-components","title":"Spark Architecture Components"},{"url":"#spark-execution","title":"Spark Execution","items":[{"url":"#jobs","title":"Jobs"},{"url":"#stages","title":"Stages"},{"url":"#tasks","title":"Tasks"}]},{"url":"#spark-concepts","title":"Spark Concepts","items":[{"url":"#caching","title":"Caching"},{"url":"#shuffling","title":"Shuffling"},{"url":"#partitioning","title":"Partitioning"},{"url":"#dataframe-transformations-vs-actions-vs-operations","title":"DataFrame Transformations vs. Actions vs. Operations","items":[{"url":"#actions","title":"Actions"},{"url":"#transformations","title":"Transformations"},{"url":"#pipelining-operations","title":"Pipelining Operations"}]},{"url":"#wide-vs-narrow-transformations","title":"Wide vs. Narrow Transformations"},{"url":"#high-level-cluster-configuration","title":"High-level Cluster Configuration"}]}]},"timeToRead":19},"ogImage":null},"pageContext":{"id":"9732c590-9555-5039-934f-d648a9864133","ogImageSlug":"og-spark-study-guide-1.png"}},"staticQueryHashes":["1233398279","1450367068"]}